<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dropbox新姿势备份服务器数据 | 老高的技术博客</title><meta name=keywords content="dropbox,backup"><meta name=description content="老高以前写过一篇使用dropbox同步备份网站和数据库的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。"><meta name=author content="Me"><link rel=canonical href=https://phpgao.github.io/dropbox_backup.html><link crossorigin=anonymous href=/assets/css/stylesheet.min.1a6ee89730e13a801d0f34e0cb5b98e96cf8c65b80500638bd599fc224ed8442.css integrity="sha256-Gm7olzDhOoAdDzTgy1uY6Wz4xluAUAY4vVmfwiTthEI=" rel="preload stylesheet" as=style><link rel=preload href="https://cdn.v2ex.com/gravatar/2b66f45a3e2f41db6522381006bfaea1?s=192" as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://phpgao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://phpgao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://phpgao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://phpgao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://phpgao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-39288145-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="Dropbox新姿势备份服务器数据"><meta property="og:description" content="老高以前写过一篇使用dropbox同步备份网站和数据库的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。"><meta property="og:type" content="article"><meta property="og:url" content="https://phpgao.github.io/dropbox_backup.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2017-10-13T08:00:00+00:00"><meta property="article:modified_time" content="2017-10-13T08:00:00+00:00"><meta property="og:site_name" content="老高的技术博客"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dropbox新姿势备份服务器数据"><meta name=twitter:description content="老高以前写过一篇使用dropbox同步备份网站和数据库的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://phpgao.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Dropbox新姿势备份服务器数据","item":"https://phpgao.github.io/dropbox_backup.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Dropbox新姿势备份服务器数据","name":"Dropbox新姿势备份服务器数据","description":"老高以前写过一篇使用dropbox同步备份网站和数据库的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。\n","keywords":["dropbox","backup"],"articleBody":"老高以前写过一篇使用dropbox同步备份网站和数据库的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。\n 新申请的Dropbox账号，默认有2G的可用空间，可以通过邀请等方式最高扩容到18G。老高直接18元入了马云家的18G账号回来改密码和邮箱?\n 准备 打开App Console - Dropbox，点击 Create app\n1. Choose an API\n选 Dropbox API\n2. Choose the type of access you need\n选 App folder ，也就是把权限控制在某一个文件夹里，比较安全，就算KEY泄露了也不会伤及无辜。\n3. Name your app\n输入app名称，全英文，下划线可以有，不要有空格，这里创建的名称会进入到 /应用/app名称的文件夹里\n最后点击创建即可！\n随后进入APP设置中，在OAuth 2中找到Generated access token，点一下，复制生成的token\n工具 andreafabrizi/Dropbox-Uploader\n# 初始化 git clone https://github.com/andreafabrizi/Dropbox-Uploader.git cd Dropbox-Uploader chmod a+x ./*.sh # 第一次执行dropbox_uploader.sh时会检查主目录下面有没有 .dropbox_uploader，access token就记录在此文件里，不要忘了输入后还有一步确认 ./dropbox_uploader.sh This is the first time you run this script, please follow the instructions: 1) Open the following URL in your Browser, and log in using your account: https://www.dropbox.com/developers/apps 2) Click on \"Create App\", then select \"Dropbox API app\" 3) Now go on with the configuration, choosing the app permissions and access restrictions to your DropBox folder 4) Enter the \"App Name\" that you prefer (e.g. MyUploader23201463624452) Now, click on the \"Create App\" button. When your new App is successfully created, please click on the Generate button under the 'Generated access token' section, then copy and paste the new access token here: 第一次运行成功后我们就可以使用他备份或者下载文件了\n./dropbox_uploader.sh -h Dropbox Uploader v1.0 Andrea Fabrizi - andrea.fabrizi@gmail.com Usage: ./dropbox_uploader.sh [PARAMETERS] COMMAND... Commands: upload  download  [LOCAL_FILE/DIR] delete  move   copy   mkdir  list [REMOTE_DIR] monitor [REMOTE_DIR] [TIMEOUT] share  saveurl   search  info space unlink Optional parameters: -f  Load the configuration file from a specific file -s Skip already existing files when download/upload. Default: Overwrite -d Enable DEBUG mode -q Quiet mode. Don't show messages -h Show file sizes in human readable format -p Show cURL progress meter -k Doesn't check for SSL certificates (insecure) For more info and examples, please see the README file. 把本地的/tmp/123文件上传到dropbox上\n./dropbox_uploader.sh upload /tmp/123 /tmp/123 ","wordCount":"270","inLanguage":"en","datePublished":"2017-10-13T08:00:00Z","dateModified":"2017-10-13T08:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://phpgao.github.io/dropbox_backup.html"},"publisher":{"@type":"Organization","name":"老高的技术博客","logo":{"@type":"ImageObject","url":"https://phpgao.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://phpgao.github.io/ accesskey=h title="老高的博客 (Alt + H)">老高的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://phpgao.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://phpgao.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.phpgao.com title="old blog"><span>old blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://phpgao.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://phpgao.github.io/posts/>Posts</a></div><h1 class=post-title>Dropbox新姿势备份服务器数据</h1><div class=post-meta>October 13, 2017&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2017-10-13_dropbox_backup.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>老高以前写过一篇<a href=https://blog.phpgao.com/dropbox_sync_cli.html>使用dropbox同步备份网站和数据库</a>的文章，里面的内容虽说能用，但已经很过时了，今天老高给大家介绍一中更好的方式，那就是用过API备份。</p><blockquote><p>新申请的Dropbox账号，默认有2G的可用空间，可以通过邀请等方式最高扩容到18G。老高直接18元入了马云家的18G账号回来改密码和邮箱?</p></blockquote><h2 id=准备>准备<a hidden class=anchor aria-hidden=true href=#准备>#</a></h2><p>打开<a href=https://www.dropbox.com/developers/apps>App Console - Dropbox</a>，点击 <strong>Create app</strong></p><p>1. Choose an API</p><p>选 <strong>Dropbox API</strong></p><p>2. Choose the type of access you need</p><p>选 <strong>App folder</strong> ，也就是把权限控制在某一个文件夹里，比较安全，就算KEY泄露了也不会伤及无辜。</p><p>3. Name your app</p><p>输入app名称，全英文，下划线可以有，不要有空格，这里创建的名称会进入到 /应用/app名称的文件夹里</p><p>最后点击创建即可！</p><p>随后进入APP设置中，在OAuth 2中找到<strong>Generated access token</strong>，点一下，复制生成的token</p><h2 id=工具>工具<a hidden class=anchor aria-hidden=true href=#工具>#</a></h2><p><a href=https://github.com/andreafabrizi/Dropbox-Uploader>andreafabrizi/Dropbox-Uploader</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>
<span style=color:#75715e># 初始化</span>
git clone https://github.com/andreafabrizi/Dropbox-Uploader.git

cd Dropbox-Uploader
chmod a+x ./*.sh

<span style=color:#75715e># 第一次执行dropbox_uploader.sh时会检查主目录下面有没有 .dropbox_uploader，access token就记录在此文件里，不要忘了输入后还有一步确认</span>

./dropbox_uploader.sh

 This is the first time you run this script, please follow the instructions:

 1<span style=color:#f92672>)</span> Open the following URL in your Browser, and log in using your account: https://www.dropbox.com/developers/apps
 2<span style=color:#f92672>)</span> Click on <span style=color:#e6db74>&#34;Create App&#34;</span>, <span style=color:#66d9ef>then</span> <span style=color:#66d9ef>select</span> <span style=color:#e6db74>&#34;Dropbox API app&#34;</span>
 3<span style=color:#f92672>)</span> Now go on with the configuration, choosing the app permissions and access restrictions to your DropBox folder
 4<span style=color:#f92672>)</span> Enter the <span style=color:#e6db74>&#34;App Name&#34;</span> that you prefer <span style=color:#f92672>(</span>e.g. MyUploader23201463624452<span style=color:#f92672>)</span>

 Now, click on the <span style=color:#e6db74>&#34;Create App&#34;</span> button.

 When your new App is successfully created, please click on the Generate button
 under the <span style=color:#e6db74>&#39;Generated access token&#39;</span> section, <span style=color:#66d9ef>then</span> copy and paste the new access token here:
</code></pre></div><p>第一次运行成功后我们就可以使用他备份或者下载文件了</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>./dropbox_uploader.sh -h

Dropbox Uploader v1.0
Andrea Fabrizi - andrea.fabrizi@gmail.com

Usage: ./dropbox_uploader.sh <span style=color:#f92672>[</span>PARAMETERS<span style=color:#f92672>]</span> COMMAND...

Commands:
	 upload   &lt;LOCAL_FILE/DIR ...&gt;  &lt;REMOTE_FILE/DIR&gt;
	 download &lt;REMOTE_FILE/DIR&gt; <span style=color:#f92672>[</span>LOCAL_FILE/DIR<span style=color:#f92672>]</span>
	 delete   &lt;REMOTE_FILE/DIR&gt;
	 move     &lt;REMOTE_FILE/DIR&gt; &lt;REMOTE_FILE/DIR&gt;
	 copy     &lt;REMOTE_FILE/DIR&gt; &lt;REMOTE_FILE/DIR&gt;
	 mkdir    &lt;REMOTE_DIR&gt;
	 list     <span style=color:#f92672>[</span>REMOTE_DIR<span style=color:#f92672>]</span>
	 monitor  <span style=color:#f92672>[</span>REMOTE_DIR<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>TIMEOUT<span style=color:#f92672>]</span>
	 share    &lt;REMOTE_FILE&gt;
	 saveurl  &lt;URL&gt; &lt;REMOTE_DIR&gt;
	 search   &lt;QUERY&gt;
	 info
	 space
	 unlink

Optional parameters:
	-f &lt;FILENAME&gt; Load the configuration file from a specific file
	-s            Skip already existing files when download/upload. Default: Overwrite
	-d            Enable DEBUG mode
	-q            Quiet mode. Don<span style=color:#e6db74>&#39;t show messages
</span><span style=color:#e6db74>	-h            Show file sizes in human readable format
</span><span style=color:#e6db74>	-p            Show cURL progress meter
</span><span style=color:#e6db74>	-k            Doesn&#39;</span>t check <span style=color:#66d9ef>for</span> SSL certificates <span style=color:#f92672>(</span>insecure<span style=color:#f92672>)</span>

For more info and examples, please see the README file.
</code></pre></div><p>把本地的/tmp/123文件上传到dropbox上</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>./dropbox_uploader.sh upload /tmp/123 /tmp/123

</code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://phpgao.github.io/tags/dropbox/>dropbox</a></li><li><a href=https://phpgao.github.io/tags/backup/>backup</a></li></ul><nav class=paginav><a class=prev href=https://phpgao.github.io/rename_to_prename.html><span class=title>« Prev Page</span><br><span>解决rename不支持正则的问题</span></a>
<a class=next href=https://phpgao.github.io/phpstorm_config.html><span class=title>Next Page »</span><br><span>PhpStorm-一些配置</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://phpgao.github.io/>老高的技术博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>