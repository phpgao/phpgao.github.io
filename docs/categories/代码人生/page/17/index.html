<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>代码人生 | 老高的技术博客</title><meta name=keywords content><meta name=description content="记录和分享，与你每天进步一点点。"><meta name=author content="Me"><link rel=canonical href=https://phpgao.github.io/categories/%E4%BB%A3%E7%A0%81%E4%BA%BA%E7%94%9F/><link crossorigin=anonymous href=/assets/css/stylesheet.min.1a6ee89730e13a801d0f34e0cb5b98e96cf8c65b80500638bd599fc224ed8442.css integrity="sha256-Gm7olzDhOoAdDzTgy1uY6Wz4xluAUAY4vVmfwiTthEI=" rel="preload stylesheet" as=style><link rel=preload href="https://cdn.v2ex.com/gravatar/2b66f45a3e2f41db6522381006bfaea1?s=192" as=image><link rel=icon href=https://phpgao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://phpgao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://phpgao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://phpgao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://phpgao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><link rel=alternate type=application/rss+xml href=https://phpgao.github.io/categories/%E4%BB%A3%E7%A0%81%E4%BA%BA%E7%94%9F/index.xml><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-39288145-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="代码人生"><meta property="og:description" content="记录和分享，与你每天进步一点点。"><meta property="og:type" content="website"><meta property="og:url" content="https://phpgao.github.io/categories/%E4%BB%A3%E7%A0%81%E4%BA%BA%E7%94%9F/"><meta property="og:site_name" content="老高的技术博客"><meta name=twitter:card content="summary"><meta name=twitter:title content="代码人生"><meta name=twitter:description content="记录和分享，与你每天进步一点点。"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://phpgao.github.io/ accesskey=h title="老高的博客 (Alt + H)">老高的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://phpgao.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://phpgao.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.phpgao.com title="old blog"><span>old blog</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://phpgao.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://phpgao.github.io/categories/>Categories</a></div><h1>代码人生</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2>git-fetch和pull的区别</h2></header><section class=entry-content><p>转自 http://blog.csdn.net/hudashi/article/details/7664457
Git中从远程的分支获取最新的版本到本地有这样2个命令：
1.git fetch：相当于是从远程获取最新版本到本地，不会自动merge
git fetch origin master git log -p master..origin/master git merge origin/master 以上命令的含义：
首先从远程的origin的master主分支下载最新的版本到origin/master分支上 然后比较本地的master分支和origin/master分支的差别 最后进行合并
上述过程其实可以用以下更清晰的方式来进行：
git fetch origin master : tmp git diff tmp git merge tmp 从远程获取最新的版本到本地的test分支上 之后再进行比较合并
2.git pull：相当于是从远程获取最新版本并merge到本地
git pull origin master 述命令其实相当于git fetch 和 git merge 在实际使用中，git fetch更安全一些 因为在merge前，我们可以查看更新情况，然后再决定是否合并</p></section><footer class=entry-footer>December 11, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to git-fetch和pull的区别" href=https://phpgao.github.io/git_fetch_pull.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>linux无界面(headless)使用selenium抓取数据</h2></header><section class=entry-content><p>问题 老高最近遇到一个需求，linux\centos下，使用selenium技术抓取数据。本来很简单的问题，但是由于内存限制，安装X window不现实，所以一个BT的想法诞生了，是否可以在centos命令行界面运行一个虚拟的桌面，然后使用selenium控制Firefox浏览器完成一些操作，Firefox运行在虚拟的桌面中，一切操作都在命令行中完成。
Google之，发现了Xvfb，他可以新建一个虚拟的X窗口，再配合python的pyvirtualdisplay，简直就是神器！
安装 centos下：
# 安装Xvfb和pyvirtualdisplay yum install xorg-x11-server-Xvfb pip install pyvirtualdisplay 安装firefox和selenium
yum install firefox pip install selenium 代码 from pyvirtualdisplay import Display from selenium import webdriver display = Display(visible=0, size=(800, 600)) display.start() browser = webdriver.Firefox() browser.get('http://www.google.com') print browser.title browser.quit() display.stop() 参考网站：
http://selenium-python.readthedocs.org/en/latest/getting-started.html http://nullege.com/codes/search/selenium.webdriver.Remote.find_elements_by_class_name http://www.opsview.com/forum/opsview-core/how-do-i/how-do-i-install-selenium-centos-server https://gist.github.com/textarcana/5855427 http://scraping.pro/use-headless-firefox-scraping-linux/ http://serverfault.com/questions/363827/how-can-i-run-firefox-on-centos-with-no-display https://realpython.com/blog/python/headless-selenium-testing-with-python-and-phantomjs/ https://pypi.python.org/pypi/selenium
http://selenium.googlecode.com/git/docs/api/py/selenium/selenium.selenium.html#module-selenium.selenium
http://www.ibm.com/developerworks/cn/opensource/os-php-designptrns/ http://www.cnblogs.com/fnng/p/3230768.html http://www.cnblogs.com/fnng/p/3157639.html http://www.cnblogs.com/fnng/p/3157639.html</p></section><footer class=entry-footer>December 9, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to linux无界面(headless)使用selenium抓取数据" href=https://phpgao.github.io/headless_selenium.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>mysql开发常用SQL</h2></header><section class=entry-content><p>主键 -- 为当前表添加主键 ALTER TABLE `tablename` ADD COLUMN id TINYINT UNSIGNED NOT NULL AUTO_INCREMENT, ADD PRIMARY KEY (id); -- 删除主键 ALTER TABLE `tablename` DROP PRIMARY KEY; 创建数据库 # utf8mb4_unicode_ci更准 CREATE DATABASE IF NOT EXISTS typecho DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_unicode_ci; # utf8mb4_general_ci更快 CREATE DATABASE IF NOT EXISTS typecho DEFAULT CHARSET utf8mb4 COLLATE utf8mb4_general_ci; CREATE DATABASE typecho DEFAULT CHARACTER SET gbk COLLATE gbk_chinese_ci; 创建用户并提供相应权限 # 只是创建用户 CREATE USER phpergao@'localhost' IDENTIFIED BY 'yourpasswd'; # 赋予权限 GRANT select,update on phpergao....</p></section><footer class=entry-footer>December 9, 2014&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to mysql开发常用SQL" href=https://phpgao.github.io/mysql_sql.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>File-already-exists--filesystem-解决办法</h2></header><section class=entry-content><p>今天用svn命令行提交版本的时候，碰到了这个比较麻烦的问题
svn: File already exists: filesystem 'xxx/svn/xxx/db' 搜了一下解决办法，都是需要两次commit，太麻烦。
直接在提交根目录执行以下命令
svn update path/ --accept=mine-full 一句话解决！</p></section><footer class=entry-footer>December 3, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to File-already-exists--filesystem-解决办法" href=https://phpgao.github.io/svn_file_already_exists.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>SVN预提交(Pre-Commit)钩子的利用</h2></header><section class=entry-content><p>转自：http://java.dzone.com/articles/useful-subversion-pre-commit
Checks whether the commit message is not empty Checks whether the commit message consists of at least 5 characters Checks if the committed files are UTF-8 compliant Checks whether the svn:eol-style property is set to LF on newly added files Checks if the committed files have no TAB characters The UTF-8 and TAB checks are performed on the following file suffixes
*.java *.js *.xhtml *.css *.xml *....</p></section><footer class=entry-footer>December 2, 2014&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to SVN预提交(Pre-Commit)钩子的利用" href=https://phpgao.github.io/svn_pre_commit.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>python获取操作系统平台、版本及架构</h2></header><section class=entry-content><p>转自: http://openwares.net/linux/python_os_version_platform.html
platform模块提供了底层系统平台的相关信息
系统架构 32位还是64位
>>> import platform >>> platform.architecture() ('64bit', 'ELF') # python 3.3.2+ 64 bits on debian jessie 64 bits ('32bit', 'WindowsPE') # python 3.3.2 32 bits on windows 8.1 64 bits ('64bit', 'WindowsPE') # python 3.3.2 64 bits on wndows 8.1 64 bits ('64bit', '') # python 3.4.1 64 bits on mac os x 10.9.4 ELF和WindowsPE是可执行文件格式 操作系统 linux,mac还是windows
>>> platform.system() 'Linux' # python 3.3.2+ 64 bits on debian jessie 64 bits 'Windows' # python 3....</p></section><footer class=entry-footer>November 19, 2014&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to python获取操作系统平台、版本及架构" href=https://phpgao.github.io/python_system_version_arch.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>python中浅拷贝和深拷贝</h2></header><section class=entry-content><p>python中浅拷贝和深拷贝 今天写python脚本，遇到了一个问题。先贴代码：
#coding=utf-8 new_list = [] # 声明一个list tmp = {'a':123,'b':'ccc'} # 新建一个dict new_list.append(tmp) # 追加 print tmp print new_list tmp['a'] = 456 # 修改tmp tmp['b'] = 'ddd' new_list.append(tmp) # 追加 print tmp print new_list # 执行结果： {'a': 123, 'b': 'ccc'} [{'a': 123, 'b': 'ccc'}] # 当改变了tmp，list中的值也会变化 {'a': 456, 'b': 'ddd'} [{'a': 456, 'b': 'ddd'}, {'a': 456, 'b': 'ddd'}] 如果是PHP会发生什么？
$b = array(); $a = array('b'=>123); array_push($b , $a); $a = array('b'=>456); array_push($b , $a); var_dump($b); $a = new ArrayObject(array('b'=>123)); $arr = new ArrayObject(); $arr->append($a); $a['b'] = 456; $arr->append($a); var_dump($arr); # 执行结果 array(2) { [0]=> array(1) { ["b"]=> int(123) } [1]=> array(1) { ["b"]=> int(456) } } object(ArrayObject)#2 (1) { ["storage":"ArrayObject":private]=> array(2) { [0]=> object(ArrayObject)#1 (1) { ["storage":"ArrayObject":private]=> array(1) { ["b"]=> int(456) } } [1]=> object(ArrayObject)#1 (1) { ["storage":"ArrayObject":private]=> array(1) { ["b"]=> int(456) } } } } 由结果看，PHP中array_push方法和array_object的结果也不同。...</p></section><footer class=entry-footer>November 10, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to python中浅拷贝和深拷贝" href=https://phpgao.github.io/python_copy.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>PHPCMS登陆流程</h2></header><section class=entry-content><p>调用phpcms/modules/member/index.php中login。
读取caches/configs/system.php中phpsso的配置。
调用phpcms/modules/member/classes/client.class.php的_ps_post()发送登录信息。
该请求被发送到phpsso_server/phpcms/modules/phpsso/index.php的login方法。
phpsso读取数据库配置phpsso_server/caches/configs/database.php，连接数据库，执行登陆逻辑
返回登录结果</p></section><footer class=entry-footer>November 5, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to PHPCMS登陆流程" href=https://phpgao.github.io/phpcms_login.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>git使用笔记</h2></header><section class=entry-content><p>GIT虽然概念比较难理解，但不得不说他是一款开发利器。
老高总结出了一些GIT中很常见的操作命令，分享给大家。但由于GIT命令繁多，所以我将分为基础和进阶两部分。
基础篇： 帮助 git help # 获取帮助，内容如下 usage: git [--version] [--exec-path[=GIT_EXEC_PATH]] [--html-path] [-p|--paginate|--no-pager] [--no-replace-objects] [--bare] [--git-dir=GIT_DIR] [--work-tree=GIT_WORK_TREE] [--help] COMMAND [ARGS] The most commonly used git commands are: add Add file contents to the index bisect Find by binary search the change that introduced a bug branch List, create, or delete branches checkout Checkout a branch or paths to the working tree clone Clone a repository into a new directory commit Record changes to the repository diff Show changes between commits, commit and working tree, etc fetch Download objects and refs from another repository grep Print lines matching a pattern init Create an empty git repository or reinitialize an existing one log Show commit logs merge Join two or more development histories together mv Move or rename a file, a directory, or a symlink pull Fetch from and merge with another repository or a local branch push Update remote refs along with associated objects rebase Forward-port local commits to the updated upstream head reset Reset current HEAD to the specified state rm Remove files from the working tree and from the index show Show various types of objects status Show the working tree status tag Create, list, delete or verify a tag object signed with GPG 配置git # 查看配置 git config -l/--list # 以下是可能出现的配置 core....</p></section><footer class=entry-footer>November 2, 2014&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to git使用笔记" href=https://phpgao.github.io/note_for_git.html></a></article><article class="post-entry tag-entry"><header class=entry-header><h2>PHP文档收藏夹</h2></header><section class=entry-content><p>主要记录一些值得研究的PHP文档页面
...</p></section><footer class=entry-footer>October 31, 2014&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Me</footer><a class=entry-link aria-label="post link to PHP文档收藏夹" href=https://phpgao.github.io/php_manual_fav.html></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://phpgao.github.io/categories/%E4%BB%A3%E7%A0%81%E4%BA%BA%E7%94%9F/page/16/>« Prev Page</a>
<a class=next href=https://phpgao.github.io/categories/%E4%BB%A3%E7%A0%81%E4%BA%BA%E7%94%9F/page/18/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://phpgao.github.io/>老高的技术博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>