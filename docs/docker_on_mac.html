<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>在mac上安装并使用docker | 老高的技术博客</title><meta name=keywords content="mac,docker,boot2docker"><meta name=description content="docker最近实在火的不行，老高最近也在使用，顺便记录一下。
下载安装
下载和安装主要参考下面的文章
http://docs.docker.com/installation/mac/
https://community.emc.com/docs/DOC-44372"><meta name=author content="Me"><link rel=canonical href=https://phpgao.github.io/docker_on_mac.html><link crossorigin=anonymous href=/assets/css/stylesheet.min.1a6ee89730e13a801d0f34e0cb5b98e96cf8c65b80500638bd599fc224ed8442.css integrity="sha256-Gm7olzDhOoAdDzTgy1uY6Wz4xluAUAY4vVmfwiTthEI=" rel="preload stylesheet" as=style><link rel=preload href="https://cdn.v2ex.com/gravatar/2b66f45a3e2f41db6522381006bfaea1?s=192" as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://phpgao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://phpgao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://phpgao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://phpgao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://phpgao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-39288145-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="在mac上安装并使用docker"><meta property="og:description" content="docker最近实在火的不行，老高最近也在使用，顺便记录一下。
下载安装
下载和安装主要参考下面的文章
http://docs.docker.com/installation/mac/
https://community.emc.com/docs/DOC-44372"><meta property="og:type" content="article"><meta property="og:url" content="https://phpgao.github.io/docker_on_mac.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-04-30T10:55:00+00:00"><meta property="article:modified_time" content="2015-04-30T10:55:00+00:00"><meta property="og:site_name" content="老高的技术博客"><meta name=twitter:card content="summary"><meta name=twitter:title content="在mac上安装并使用docker"><meta name=twitter:description content="docker最近实在火的不行，老高最近也在使用，顺便记录一下。
下载安装
下载和安装主要参考下面的文章
http://docs.docker.com/installation/mac/
https://community.emc.com/docs/DOC-44372"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://phpgao.github.io/posts/"},{"@type":"ListItem","position":2,"name":"在mac上安装并使用docker","item":"https://phpgao.github.io/docker_on_mac.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"在mac上安装并使用docker","name":"在mac上安装并使用docker","description":"docker最近实在火的不行，老高最近也在使用，顺便记录一下。\n下载安装 下载和安装主要参考下面的文章\nhttp://docs.docker.com/installation/mac/\nhttps://community.emc.com/docs/DOC-44372\n","keywords":["mac","docker","boot2docker"],"articleBody":"docker最近实在火的不行，老高最近也在使用，顺便记录一下。\n下载安装 下载和安装主要参考下面的文章\nhttp://docs.docker.com/installation/mac/\nhttps://community.emc.com/docs/DOC-44372\n老高选择使用Boot2Docker安装docker\n或者你可以用下面的命令安装\nbrew update brew install docker brew install boot2docker 安装貌似需要virtualbox\n安装完毕，会在你的应用程序文件夹中生成一个boot2docker的app，运行他就会初始化docker了！\n等他完成初始化，我们就可以使用docker了！\n# 你的第一个docker应用 docker run hello-world boot2docker基础命令 Usage: boot2docker []  [] Boot2Docker management utility. Commands: init Create a new Boot2Docker VM. up|start|boot Start VM from any states. ssh [ssh-command] Login to VM via SSH. save|suspend Suspend VM and save state to disk. down|stop|halt Gracefully shutdown the VM. restart Gracefully reboot the VM. poweroff Forcefully power off the VM (may corrupt disk image). reset Forcefully power cycle the VM (may corrupt disk image). delete|destroy Delete Boot2Docker VM and its disk image. config|cfg Show selected profile file settings. info Display detailed information of VM. ip Display the IP address of the VM's Host-only network. shellinit Display the shell commands to set up the Docker client. status Display current state of VM. download Download Boot2Docker ISO image. upgrade Upgrade the Boot2Docker ISO image (restart if running). version Display version information. 理解docker docker与虚拟机的区别以下文章讲的很清楚，我个人理解是docker统一些接口，使得虚拟化的移植性有了很大的提高！docker的虚拟化与之前常见的虚拟机不一样，其性能与占用空间等都比传统的虚拟机好很多。\nhttp://stackoverflow.com/questions/16047306/how-is-docker-io-different-from-a-normal-virtual-machine\n请允许老高盗一张官方图\n我们看到，不像传统的虚拟机，docker的所有程序都直接运行在宿主系统中，每个container独立运行，互不干扰。\n请允许老高再盗一张官方图\n乍看之下，可能毫无头绪。但其实docker玩的概念无非就是image(镜像)、container(容器)、layer(层)。\n现在可以公开的情报：\n docker可以在多个平台中运行 image、container的灵活程度超乎你的想象 虚拟机有多重运行方式 docker最初只能运行在ubuntu系统中 image或base-image都是不可写的(readonly) 再container中所做的修改都会保存在layer中  好了，不说这些虚的，下面赶紧用几个命令练练手。\ndocker基本命令 docker -h attach Attach to a running container build Build an image from a Dockerfile commit Create a new image from a container's changes cp Copy files/folders from a container's filesystem to the host path create Create a new container diff Inspect changes on a container's filesystem events Get real time events from the server exec Run a command in a running container export Stream the contents of a container as a tar archive history Show the history of an image images List images import Create a new filesystem image from the contents of a tarball info Display system-wide information inspect Return low-level information on a container or image kill Kill a running container load Load an image from a tar archive login Register or log in to a Docker registry server logout Log out from a Docker registry server logs Fetch the logs of a container port Lookup the public-facing port that is NAT-ed to PRIVATE_PORT pause Pause all processes within a container ps List containers pull Pull an image or a repository from a Docker registry server push Push an image or a repository to a Docker registry server rename Rename an existing container restart Restart a running container rm Remove one or more containers rmi Remove one or more images run Run a command in a new container save Save an image to a tar archive search Search for an image on the Docker Hub start Start a stopped container stats Display a stream of a containers' resource usage statistics stop Stop a running container tag Tag an image into a repository top Lookup the running processes of a container unpause Unpause a paused container version Show the Docker version information wait Block until a container stops, then print its exit code  常用命令\n# 运行某镜像(如果不存在会远程下载) docker run hello-world eg: 运行centos:centos6的容器并执行输出一段文字，之后退出 docker run centos:centos6 echo \"hello world\" # 下载某镜像 docker pull centos:centos6 # 运行并进入bash环境 -i 容器的标准输入保持打开 -t 让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上 docker run -i -t centos:centos6 /bin/bash # 运行时将宿主文件夹挂载到/data docker run -it -v /tmp:/data centos:centos6 /bin/bash # 守护方式运行 docker run -idt centos-base # 容器任务管理器 docker ps -a # 进入容器 docker attach 3ca3de3b8b6a # 导出容器 docker export 3ca3de3b8b6a  centos6-base.tar # 导入容器并明命名 cat centos6-base.tar  docker import - centos-new_base # 直接导入某镜像文件 docker import http://example.com/some_image.tgz # 删除容器 docker rm 3ca3de3b8b6a # 查看所有镜像 docker images # 提交镜像 docker commit 3ca3de3b8b6a centos-new_base # 删除镜像 docker rmi centos-new_base # 停止当前运行着的container docker kill $(docker ps -a -q) # 删除没有在运行的container docker rm $(docker ps -a -q) 更多使用方法请访问\nDocker —— 从入门到实践 ","wordCount":"583","inLanguage":"en","datePublished":"2015-04-30T10:55:00Z","dateModified":"2015-04-30T10:55:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://phpgao.github.io/docker_on_mac.html"},"publisher":{"@type":"Organization","name":"老高的技术博客","logo":{"@type":"ImageObject","url":"https://phpgao.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://phpgao.github.io/ accesskey=h title="老高的博客 (Alt + H)">老高的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://phpgao.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://phpgao.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.phpgao.com title="old blog"><span>old blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://phpgao.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://phpgao.github.io/posts/>Posts</a></div><h1 class=post-title>在mac上安装并使用docker</h1><div class=post-meta>April 30, 2015&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2015-04-30_docker_on_mac.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>docker最近实在火的不行，老高最近也在使用，顺便记录一下。</p><h2 id=下载安装>下载安装<a hidden class=anchor aria-hidden=true href=#下载安装>#</a></h2><p>下载和安装主要参考下面的文章</p><p><a href=http://docs.docker.com/installation/mac/>http://docs.docker.com/installation/mac/</a></p><p><a href=https://community.emc.com/docs/DOC-44372>https://community.emc.com/docs/DOC-44372</a></p><p>老高选择使用Boot2Docker安装docker</p><p>或者你可以用下面的命令安装</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>brew update
brew install docker
brew install boot2docker
</code></pre></div><p><strong>安装貌似需要virtualbox</strong></p><p>安装完毕，会在你的应用程序文件夹中生成一个boot2docker的app，运行他就会初始化docker了！</p><p>等他完成初始化，我们就可以使用docker了！</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># 你的第一个docker应用
docker run hello-world
</code></pre></div><h2 id=boot2docker基础命令>boot2docker基础命令<a hidden class=anchor aria-hidden=true href=#boot2docker基础命令>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>Usage: boot2docker [&lt;options&gt;] &lt;command&gt; [&lt;args&gt;]

Boot2Docker management utility.

Commands:
   init                Create a new Boot2Docker VM.
   up|start|boot       Start VM from any states.
   ssh [ssh-command]   Login to VM via SSH.
   save|suspend        Suspend VM and save state to disk.
   down|stop|halt      Gracefully shutdown the VM.
   restart             Gracefully reboot the VM.
   poweroff            Forcefully power off the VM (may corrupt disk image).
   reset               Forcefully power cycle the VM (may corrupt disk image).
   delete|destroy      Delete Boot2Docker VM and its disk image.
   config|cfg          Show selected profile file settings.
   info                Display detailed information of VM.
   ip                  Display the IP address of the VM&#39;s Host-only network.
   shellinit           Display the shell commands to set up the Docker client.
   status              Display current state of VM.
   download            Download Boot2Docker ISO image.
   upgrade             Upgrade the Boot2Docker ISO image (restart if running).
   version             Display version information.

</code></pre></div><h2 id=理解docker>理解docker<a hidden class=anchor aria-hidden=true href=#理解docker>#</a></h2><p>docker与虚拟机的区别以下文章讲的很清楚，我个人理解是docker统一些接口，使得虚拟化的移植性有了很大的提高！docker的虚拟化与之前常见的虚拟机不一样，其性能与占用空间等都比传统的虚拟机好很多。</p><p><a href=http://stackoverflow.com/questions/16047306/how-is-docker-io-different-from-a-normal-virtual-machine>http://stackoverflow.com/questions/16047306/how-is-docker-io-different-from-a-normal-virtual-machine</a></p><p>请允许老高盗一张官方图</p><p><img loading=lazy src=https://blog.phpgao.com/usr/uploads/2015/05/935509335.png alt=docker架构></p><p>我们看到，不像传统的虚拟机，docker的所有程序都直接运行在宿主系统中，每个container独立运行，互不干扰。</p><p>请允许老高再盗一张官方图</p><p><img loading=lazy src=https://blog.phpgao.com/usr/uploads/2015/05/87693964.png alt=docker的文件系统></p><p>乍看之下，可能毫无头绪。但其实docker玩的概念无非就是image(镜像)、container(容器)、layer(层)。</p><p>现在可以公开的情报：</p><ol><li>docker可以在多个平台中运行</li><li>image、container的灵活程度超乎你的想象</li><li>虚拟机有多重运行方式</li><li>docker最初只能运行在ubuntu系统中</li><li>image或base-image都是不可写的(readonly)</li><li>再container中所做的修改都会保存在layer中</li></ol><p>好了，不说这些虚的，下面赶紧用几个命令练练手。</p><h2 id=docker基本命令>docker基本命令<a hidden class=anchor aria-hidden=true href=#docker基本命令>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback>docker -h

    attach    Attach to a running container
    build     Build an image from a Dockerfile
    commit    Create a new image from a container&#39;s changes
    cp        Copy files/folders from a container&#39;s filesystem to the host path
    create    Create a new container
    diff      Inspect changes on a container&#39;s filesystem
    events    Get real time events from the server
    exec      Run a command in a running container
    export    Stream the contents of a container as a tar archive
    history   Show the history of an image
    images    List images
    import    Create a new filesystem image from the contents of a tarball
    info      Display system-wide information
    inspect   Return low-level information on a container or image
    kill      Kill a running container
    load      Load an image from a tar archive
    login     Register or log in to a Docker registry server
    logout    Log out from a Docker registry server
    logs      Fetch the logs of a container
    port      Lookup the public-facing port that is NAT-ed to PRIVATE_PORT
    pause     Pause all processes within a container
    ps        List containers
    pull      Pull an image or a repository from a Docker registry server
    push      Push an image or a repository to a Docker registry server
    rename    Rename an existing container
    restart   Restart a running container
    rm        Remove one or more containers
    rmi       Remove one or more images
    run       Run a command in a new container
    save      Save an image to a tar archive
    search    Search for an image on the Docker Hub
    start     Start a stopped container
    stats     Display a stream of a containers&#39; resource usage statistics
    stop      Stop a running container
    tag       Tag an image into a repository
    top       Lookup the running processes of a container
    unpause   Unpause a paused container
    version   Show the Docker version information
    wait      Block until a container stops, then print its exit code
</code></pre></div><hr><p><strong>常用命令</strong></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback># 运行某镜像(如果不存在会远程下载)
docker run hello-world
eg:
运行centos:centos6的容器并执行输出一段文字，之后退出
docker run centos:centos6 echo &#34;hello world&#34;


# 下载某镜像
docker pull centos:centos6

# 运行并进入bash环境
-i 容器的标准输入保持打开 -t 让Docker分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上
docker run -i -t centos:centos6 /bin/bash

# 运行时将宿主文件夹挂载到/data
docker run -it -v /tmp:/data centos:centos6 /bin/bash

# 守护方式运行
docker run -idt centos-base

# 容器任务管理器
docker ps -a

# 进入容器
docker attach 3ca3de3b8b6a

# 导出容器
docker export 3ca3de3b8b6a &gt; centos6-base.tar

# 导入容器并明命名
cat centos6-base.tar &gt; docker import - centos-new_base

# 直接导入某镜像文件
docker import http://example.com/some_image.tgz

# 删除容器
docker rm 3ca3de3b8b6a

# 查看所有镜像
docker images

# 提交镜像
docker commit 3ca3de3b8b6a centos-new_base

# 删除镜像
docker rmi centos-new_base

# 停止当前运行着的container
docker kill $(docker ps -a -q)

# 删除没有在运行的container
docker rm $(docker ps -a -q)
</code></pre></div><p>更多使用方法请访问</p><p>Docker —— 从入门到实践</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://phpgao.github.io/tags/mac/>mac</a></li><li><a href=https://phpgao.github.io/tags/docker/>docker</a></li><li><a href=https://phpgao.github.io/tags/boot2docker/>boot2docker</a></li></ul><nav class=paginav><a class=prev href=https://phpgao.github.io/new_theme_20150512.html><span class=title>« Prev Page</span><br><span>换一个主题，换一个心情</span></a>
<a class=next href=https://phpgao.github.io/pretty_linux.html><span class=title>Next Page »</span><br><span>Linux终端美化资源整理</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://phpgao.github.io/>老高的技术博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>