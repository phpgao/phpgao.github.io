<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Python-代码片段总结 | 老高的技术博客</title><meta name=keywords content="python"><meta name=description content="慢慢积累吧！

"><meta name=author content="Me"><link rel=canonical href=https://phpgao.github.io/python_function.html><link crossorigin=anonymous href=/assets/css/stylesheet.min.1a6ee89730e13a801d0f34e0cb5b98e96cf8c65b80500638bd599fc224ed8442.css integrity="sha256-Gm7olzDhOoAdDzTgy1uY6Wz4xluAUAY4vVmfwiTthEI=" rel="preload stylesheet" as=style><link rel=preload href="https://cdn.v2ex.com/gravatar/2b66f45a3e2f41db6522381006bfaea1?s=192" as=image><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://phpgao.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://phpgao.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://phpgao.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://phpgao.github.io/apple-touch-icon.png><link rel=mask-icon href=https://phpgao.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.83.1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-39288145-2','auto'),ga('send','pageview'))</script><meta property="og:title" content="Python-代码片段总结"><meta property="og:description" content="慢慢积累吧！

"><meta property="og:type" content="article"><meta property="og:url" content="https://phpgao.github.io/python_function.html"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-06-16T07:31:00+00:00"><meta property="article:modified_time" content="2016-06-16T07:31:00+00:00"><meta property="og:site_name" content="老高的技术博客"><meta name=twitter:card content="summary"><meta name=twitter:title content="Python-代码片段总结"><meta name=twitter:description content="慢慢积累吧！

"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://phpgao.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Python-代码片段总结","item":"https://phpgao.github.io/python_function.html"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python-代码片段总结","name":"Python-代码片段总结","description":"慢慢积累吧！\n","keywords":["python"],"articleBody":"慢慢积累吧！\n升级PIP python -m pip install --upgrade pip 代理 easy_install -i https://pypi.douban.com/simple/ requests pip install -i https://pypi.douban.com/simple/ requests 文件头 #! /usr/bin/env python # -*- coding: utf-8 -*- # or #! /usr/bin/env python # coding=utf-8 遍历文件夹  benhoyt/scandir python3 os.walk \u0026\u0026 os.fwalk python2 os.walk  import os for root, dirs, files in os.walk(top, topdown=False): for name in files: os.remove(os.path.join(root, name)) for name in dirs: os.rmdir(os.path.join(root, name)) 运行时相关 # 当前文件夹 os.getcwd() # 当前脚本路径 file_path = os.path.realpath(__file__) # 当前脚本文件夹 os.path.dirname(file_path) 生成pyc文件 用py_compile模块\nimport py_compile py_compile.compile(file_path) 也可以直接执行命令转换当前所有py文件，使用到compileall模块\npython -m compileall xxx.py python -m compileall . 生成的pyc可以跨平台使用，但是只能这样用python xxx.pyc，而不能使用./xxx.pyc执行，因为缺少了shebang的支持，不过貌似Binfmt_misc可以解决这个问题，ubuntu下apt-get install binfmt-support可以直接安装。\n文件操作高级封装 10.10. shutil — High-level file operations\n环境变量 15.1.1. Process Parameters¶\nimport os for k, v in os.environ.items(): print \"%s= %s\" % (k, v) # Note Calling putenv() directly does not change os.environ, so it’s better to modify os.environ. os.getenv('PATH') os.putenv('GO15VENDOREXPERIMENT', '0') main的写法 if __name__ == \"__main__\": 子进程 Python 产生子进程的方法有：\n os.popen subprocess.popen os.system os.fork os.spawnv os.fork  sys import sys # 获取参数 print sys.argv # 获取 path print sys.path # 获取已载入模块 print sys.modules # 执行信息，发生异常时可以获取到 print sys.exec_info() 标准流  sys.stdin sys.stdout sys.stderr  提供文件方法的对象都可以作为标准流：\n带 read() 方法的对象可以赋值给 sys.stdin； read() 为输入流提供数据 带 write() 方法的对象可以赋值给 sys.stdout； 所有标准输出都发给 write() 方法。\nclass Input(object): def read(self): return 'hello, world\\n' class Output(object): def write(self, s): f = open('1.txt', 'w') f.write(s) f.close() sys.stdin = Input() sys.stdin.read() # 'hello, world' sys.stderr = Input() sys.stderr.read() # 'hello, world' sys.stdout = Output() sys.stdout.write('hello, world\\n') #生成文件 1.txt，输入文本 'hello, world\\n' 版本比较 Python的版本比较有很多种方法，StrictVersion、LooseVersion还有NormalizedVersion。不过在 PEP 386已经不推荐使用StrictVersion和LooseVersion了。\n Note that LooseVersion and StrictVersion have been deprecated under PEP 386 and will at some point be replaced by NormalizedVersion.\n 安装verlib\npip install -i https://pypi.douban.com/simple/ verlib 使用版本比较的功能。\nfrom verlib import NormalizedVersion NormalizedVersion(\"1.2b1\")  NormalizedVersion(\"1.2\") #True 检查pid是否在运行 How to check if there exists a process with a given pid?\nimport errno import os import sys def pid_exists(pid): \"\"\"Check whether pid exists in the current process table. UNIX only. \"\"\" if pid  0: return False if pid == 0: # According to \"man 2 kill\" PID 0 refers to every process # in the process group of the calling process. # On certain systems 0 is a valid PID but we have no way # to know that in a portable fashion. raise ValueError('invalid PID 0') try: os.kill(pid, 0) except OSError as err: if err.errno == errno.ESRCH: # ESRCH == No such process return False elif err.errno == errno.EPERM: # EPERM clearly means there's a process to deny access to return True else: # According to \"man 2 kill\" possible error values are # (EINVAL, EPERM, ESRCH) raise else: return True Renference:\n学习Python Compare version strings Working with versions PEP 386 – Changing the version comparison module in Distutils\n","wordCount":"430","inLanguage":"en","datePublished":"2016-06-16T07:31:00Z","dateModified":"2016-06-16T07:31:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://phpgao.github.io/python_function.html"},"publisher":{"@type":"Organization","name":"老高的技术博客","logo":{"@type":"ImageObject","url":"https://phpgao.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://phpgao.github.io/ accesskey=h title="老高的博客 (Alt + H)">老高的博客</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://phpgao.github.io/categories/ title=categories><span>categories</span></a></li><li><a href=https://phpgao.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://blog.phpgao.com title="old blog"><span>old blog</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://phpgao.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://phpgao.github.io/posts/>Posts</a></div><h1 class=post-title>Python-代码片段总结</h1><div class=post-meta>June 16, 2016&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/%3cpath_to_repo%3e/content/posts/2016-06-16_python_function.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>慢慢积累吧！</p><p><img loading=lazy src=https://blog.phpgao.com/usr/uploads/2016/06/2183667823.jpeg alt=python></p><h2 id=升级pip>升级PIP<a hidden class=anchor aria-hidden=true href=#升级pip>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python -m pip install --upgrade pip
</code></pre></div><h2 id=代理>代理<a hidden class=anchor aria-hidden=true href=#代理>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>easy_install -i https://pypi.douban.com/simple/ requests
pip install -i https://pypi.douban.com/simple/ requests
</code></pre></div><h2 id=文件头>文件头<a hidden class=anchor aria-hidden=true href=#文件头>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e>#! /usr/bin/env python</span>
<span style=color:#75715e># -*- coding: utf-8 -*-</span>

<span style=color:#75715e># or</span>

<span style=color:#75715e>#! /usr/bin/env python</span>
<span style=color:#75715e># coding=utf-8</span>
</code></pre></div><h2 id=遍历文件夹>遍历文件夹<a hidden class=anchor aria-hidden=true href=#遍历文件夹>#</a></h2><ul><li><a href=https://github.com/benhoyt/scandir>benhoyt/scandir</a></li><li><a href=https://docs.python.org/3.5/library/os.html#os.walk>python3 os.walk && os.fwalk</a></li><li><a href=https://docs.python.org/2.7/library/os.html#os.walk>python2 os.walk</a></li></ul><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> os
<span style=color:#66d9ef>for</span> root, dirs, files <span style=color:#f92672>in</span> os<span style=color:#f92672>.</span>walk(top, topdown<span style=color:#f92672>=</span>False):
    <span style=color:#66d9ef>for</span> name <span style=color:#f92672>in</span> files:
        os<span style=color:#f92672>.</span>remove(os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>join(root, name))
    <span style=color:#66d9ef>for</span> name <span style=color:#f92672>in</span> dirs:
        os<span style=color:#f92672>.</span>rmdir(os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>join(root, name))
</code></pre></div><h2 id=运行时相关>运行时相关<a hidden class=anchor aria-hidden=true href=#运行时相关>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># 当前文件夹</span>
os<span style=color:#f92672>.</span>getcwd()
<span style=color:#75715e># 当前脚本路径</span>
file_path  <span style=color:#f92672>=</span> os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>realpath(__file__)
<span style=color:#75715e># 当前脚本文件夹</span>
os<span style=color:#f92672>.</span>path<span style=color:#f92672>.</span>dirname(file_path)
</code></pre></div><h2 id=生成pyc文件>生成pyc文件<a hidden class=anchor aria-hidden=true href=#生成pyc文件>#</a></h2><p>用py_compile模块</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> py_compile
py_compile<span style=color:#f92672>.</span>compile(file_path)
</code></pre></div><p>也可以直接执行命令转换当前所有py文件，使用到compileall模块</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python -m compileall xxx.py
python -m compileall .
</code></pre></div><p>生成的pyc可以跨平台使用，但是只能这样用<code>python xxx.pyc</code>，而不能使用<code>./xxx.pyc</code>执行，因为缺少了shebang的支持，不过貌似<a href=https://en.wikipedia.org/wiki/Binfmt_misc>Binfmt_misc</a>可以解决这个问题，ubuntu下<code>apt-get install binfmt-support</code>可以直接安装。</p><h2 id=文件操作高级封装>文件操作高级封装<a hidden class=anchor aria-hidden=true href=#文件操作高级封装>#</a></h2><p><a href=https://docs.python.org/2.7/library/shutil.html#module-shutil>10.10. shutil — High-level file operations</a></p><h2 id=环境变量>环境变量<a hidden class=anchor aria-hidden=true href=#环境变量>#</a></h2><p><a href=https://docs.python.org/2/library/os.html#process-parameters>15.1.1. Process Parameters¶</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> os

<span style=color:#66d9ef>for</span> k, v <span style=color:#f92672>in</span> os<span style=color:#f92672>.</span>environ<span style=color:#f92672>.</span>items():
    <span style=color:#66d9ef>print</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>%s</span><span style=color:#e6db74> =&gt; </span><span style=color:#e6db74>%s</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>%</span> (k, v)

<span style=color:#75715e># Note Calling putenv() directly does not change os.environ, so it’s better to modify os.environ.</span>
os<span style=color:#f92672>.</span>getenv(<span style=color:#e6db74>&#39;PATH&#39;</span>)
os<span style=color:#f92672>.</span>putenv(<span style=color:#e6db74>&#39;GO15VENDOREXPERIMENT&#39;</span>, <span style=color:#e6db74>&#39;0&#39;</span>)
</code></pre></div><h2 id=main的写法>main的写法<a hidden class=anchor aria-hidden=true href=#main的写法>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</code></pre></div><h2 id=子进程>子进程<a hidden class=anchor aria-hidden=true href=#子进程>#</a></h2><p>Python 产生子进程的方法有：</p><ol><li>os.popen</li><li>subprocess.popen</li><li>os.system</li><li>os.fork</li><li>os.spawnv</li><li>os.fork</li></ol><h2 id=sys>sys<a hidden class=anchor aria-hidden=true href=#sys>#</a></h2><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> sys

<span style=color:#75715e># 获取参数</span>
<span style=color:#66d9ef>print</span> sys<span style=color:#f92672>.</span>argv

<span style=color:#75715e># 获取 path</span>
<span style=color:#66d9ef>print</span> sys<span style=color:#f92672>.</span>path

<span style=color:#75715e># 获取已载入模块</span>
<span style=color:#66d9ef>print</span> sys<span style=color:#f92672>.</span>modules

<span style=color:#75715e># 执行信息，发生异常时可以获取到</span>
<span style=color:#66d9ef>print</span> sys<span style=color:#f92672>.</span>exec_info()
</code></pre></div><h2 id=标准流>标准流<a hidden class=anchor aria-hidden=true href=#标准流>#</a></h2><ol><li>sys.stdin</li><li>sys.stdout</li><li>sys.stderr</li></ol><p>提供文件方法的对象都可以作为标准流：</p><p>带 read() 方法的对象可以赋值给 sys.stdin； read() 为输入流提供数据
带 write() 方法的对象可以赋值给 sys.stdout； 所有标准输出都发给 write() 方法。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Input</span>(object):
    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>read</span>(self):
        <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#39;hello, world</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Output</span>(object):
    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>write</span>(self, s):
        f <span style=color:#f92672>=</span> open(<span style=color:#e6db74>&#39;1.txt&#39;</span>, <span style=color:#e6db74>&#39;w&#39;</span>)
        f<span style=color:#f92672>.</span>write(s)
        f<span style=color:#f92672>.</span>close()

sys<span style=color:#f92672>.</span>stdin <span style=color:#f92672>=</span> Input()
sys<span style=color:#f92672>.</span>stdin<span style=color:#f92672>.</span>read() <span style=color:#75715e># &#39;hello, world&#39;</span>
sys<span style=color:#f92672>.</span>stderr <span style=color:#f92672>=</span> Input()
sys<span style=color:#f92672>.</span>stderr<span style=color:#f92672>.</span>read() <span style=color:#75715e># &#39;hello, world&#39;</span>
sys<span style=color:#f92672>.</span>stdout <span style=color:#f92672>=</span> Output()
sys<span style=color:#f92672>.</span>stdout<span style=color:#f92672>.</span>write(<span style=color:#e6db74>&#39;hello, world</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#39;</span>) <span style=color:#75715e>#生成文件 1.txt，输入文本 &#39;hello, world\n&#39;</span>
</code></pre></div><h2 id=版本比较>版本比较<a hidden class=anchor aria-hidden=true href=#版本比较>#</a></h2><p>Python的版本比较有很多种方法，StrictVersion、LooseVersion还有NormalizedVersion。不过在 PEP 386已经不推荐使用StrictVersion和LooseVersion了。</p><blockquote><p>Note that LooseVersion and StrictVersion have been deprecated under PEP 386 and will at some point be replaced by NormalizedVersion.</p></blockquote><p>安装verlib</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pip install -i https://pypi.douban.com/simple/ verlib
</code></pre></div><p>使用版本比较的功能。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> verlib <span style=color:#f92672>import</span> NormalizedVersion
NormalizedVersion(<span style=color:#e6db74>&#34;1.2b1&#34;</span>) <span style=color:#f92672>&lt;</span> NormalizedVersion(<span style=color:#e6db74>&#34;1.2&#34;</span>) <span style=color:#75715e>#True</span>
</code></pre></div><h2 id=检查pid是否在运行>检查pid是否在运行<a hidden class=anchor aria-hidden=true href=#检查pid是否在运行>#</a></h2><p><a href=http://stackoverflow.com/questions/568271/how-to-check-if-there-exists-a-process-with-a-given-pid>How to check if there exists a process with a given pid?</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> errno
<span style=color:#f92672>import</span> os
<span style=color:#f92672>import</span> sys

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pid_exists</span>(pid):
    <span style=color:#e6db74>&#34;&#34;&#34;Check whether pid exists in the current process table.
</span><span style=color:#e6db74>    UNIX only.
</span><span style=color:#e6db74>    &#34;&#34;&#34;</span>
    <span style=color:#66d9ef>if</span> pid <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#66d9ef>return</span> False
    <span style=color:#66d9ef>if</span> pid <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
        <span style=color:#75715e># According to &#34;man 2 kill&#34; PID 0 refers to every process</span>
        <span style=color:#75715e># in the process group of the calling process.</span>
        <span style=color:#75715e># On certain systems 0 is a valid PID but we have no way</span>
        <span style=color:#75715e># to know that in a portable fashion.</span>
        <span style=color:#66d9ef>raise</span> <span style=color:#a6e22e>ValueError</span>(<span style=color:#e6db74>&#39;invalid PID 0&#39;</span>)
    <span style=color:#66d9ef>try</span>:
        os<span style=color:#f92672>.</span>kill(pid, <span style=color:#ae81ff>0</span>)
    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>OSError</span> <span style=color:#66d9ef>as</span> err:
        <span style=color:#66d9ef>if</span> err<span style=color:#f92672>.</span>errno <span style=color:#f92672>==</span> errno<span style=color:#f92672>.</span>ESRCH:
            <span style=color:#75715e># ESRCH == No such process</span>
            <span style=color:#66d9ef>return</span> False
        <span style=color:#66d9ef>elif</span> err<span style=color:#f92672>.</span>errno <span style=color:#f92672>==</span> errno<span style=color:#f92672>.</span>EPERM:
            <span style=color:#75715e># EPERM clearly means there&#39;s a process to deny access to</span>
            <span style=color:#66d9ef>return</span> True
        <span style=color:#66d9ef>else</span>:
            <span style=color:#75715e># According to &#34;man 2 kill&#34; possible error values are</span>
            <span style=color:#75715e># (EINVAL, EPERM, ESRCH)</span>
            <span style=color:#66d9ef>raise</span>
    <span style=color:#66d9ef>else</span>:
        <span style=color:#66d9ef>return</span> True
</code></pre></div><p>Renference:</p><p><a href=http://to-learn-python.readthedocs.io/index.html>学习Python</a>
<a href=http://stackoverflow.com/questions/11887762/compare-version-strings>Compare version strings</a>
<a href=http://alexis.notmyidea.org/distutils2/library/distutils2.version.html>Working with versions</a>
<a href=https://www.python.org/dev/peps/pep-0386/>PEP 386 &ndash; Changing the version comparison module in Distutils</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://phpgao.github.io/tags/python/>python</a></li></ul><nav class=paginav><a class=prev href=https://phpgao.github.io/docker_install_specific_version.html><span class=title>« Prev Page</span><br><span>安装指定版本的docker</span></a>
<a class=next href=https://phpgao.github.io/ngrok_how_to.html><span class=title>Next Page »</span><br><span>自己建立ngrok服务器进行内网穿透</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://phpgao.github.io/>老高的技术博客</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>